{"version":3,"sources":["components/ImageGallery/ImageGalleryItem.module.css","components/Modal/Modal.module.css","components/ImageGallery/ImageGallery.module.css","components/Loader/Loader.module.css","components/Button/Button.module.css","components/Searchbar/Searchbar.js","components/ImageGallery/ImageGallery.js","components/ImageGallery/ImageGalleryItem.js","API.js","components/Modal/Modal.js","components/Loader/Loader.js","components/Button/Button.js","App.js","index.js","components/Searchbar/Searchbar.module.css"],"names":["module","exports","Searchbar","state","value","handleChange","e","setState","target","handleSubmit","preventDefault","trim","props","onSubmit","resetForm","toast","this","className","s","SearchForm","type","Button","Label","SearchForm__input","autoComplete","autoFocus","placeholder","onChange","Component","ImageGallery","children","ImageGalleryItem","imagesArr","onClickImg","map","imgObj","onClick","largeImageURL","src","webformatURL","alt","tags","Image","id","KEY","fetchImg","name","page","axios","get","Modal","handleEscape","code","toggleModall","handleClose","currentTarget","window","addEventListener","removeEventListener","createPortal","Overlay","largeImage","document","querySelector","Loader","styles","loader","color","height","width","timeout","handleCick","App","images","showModal","isLoading","showMessage","fetchData","then","data","hits","length","prevState","scrollOnLoadButton","catch","err","finally","handleGalleryItem","fullImageUrl","toggleModal","handleFormSubmit","valueInput","scrollTo","top","documentElement","scrollHeight","behavior","prevProps","showButton","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.a13232ae.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__1RL0a\",\"Image\":\"ImageGalleryItem_Image__2UM9b\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__2WC-7\",\"Modal\":\"Modal_Modal__1oYDK\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__1klgC\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loader\":\"Loader_loader__2UKUR\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__13PS1\"};","import { Component } from 'react';\nimport s from './Searchbar.module.css';\nimport { toast } from 'react-toastify';\n\nclass Searchbar extends Component {\n  state = {\n    value: '',\n  };\n\n  handleChange = e => {\n    this.setState({ value: e.target.value });\n  };\n\n  handleSubmit = e => {\n    const { value } = this.state;\n    e.preventDefault();\n    if (value.trim() === '') {\n      toast('Enter a query');\n      return;\n    }\n    this.props.onSubmit(value);\n    this.resetForm();\n  };\n\n  resetForm = () => {\n    this.setState({ value: '' });\n  };\n\n  render() {\n    const { handleChange, handleSubmit } = this;\n    const { value } = this.state;\n    return (\n      <header className={s.Searchbar}>\n        <form className={s.SearchForm} onSubmit={handleSubmit}>\n          <button type=\"submit\" className={s.Button}>\n            <span className={s.Label}>Search</span>\n          </button>\n          <input\n            className={s.SearchForm__input}\n            type=\"text\"\n            autoComplete=\"off\"\n            autoFocus\n            placeholder=\"Search images and photos\"\n            onChange={handleChange}\n            value={value}\n          />\n        </form>\n      </header>\n    );\n  }\n}\n\nexport default Searchbar;\n","import s from './ImageGallery.module.css';\n\nconst ImageGallery = ({ children }) => {\n  return <ul className={s.ImageGallery}>{children}</ul>;\n};\n\nexport default ImageGallery;\n","import PropTypes from 'prop-types';\nimport s from './ImageGalleryItem.module.css';\n\nconst ImageGalleryItem = ({ imagesArr, onClickImg }) => {\n  return imagesArr.map(imgObj => {\n    const fullImage = () => onClickImg(imgObj.largeImageURL);\n    return (\n      <li className={s.ImageGalleryItem} key={imgObj.id} onClick={fullImage}>\n        <img src={imgObj.webformatURL} alt={imgObj.tags} className={s.Image} />\n      </li>\n    );\n  });\n};\n\nexport default ImageGalleryItem;\n\nImageGalleryItem.propTypes = {\n  imagesArr: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.number.isRequired,\n      webformatURL: PropTypes.string,\n      largeImageURL: PropTypes.string.isRequired,\n      tags: PropTypes.string,\n    }),\n  ),\n  onClickImg: PropTypes.func.isRequired,\n};\n","import axios from 'axios';\n\nconst KEY = '23051678-b5ac65469c9e5d51c8f14a2a6';\n\nfunction fetchImg(name = 'cat', page = 1) {\n  return axios.get(\n    `https://pixabay.com/api/?q=${name}&page=${page}&key=${KEY}&image_type=photo&orientation=horizontal&per_page=12`,\n  );\n}\n\nexport default fetchImg;\n","import { Component } from 'react';\nimport { createPortal } from 'react-dom';\nimport s from './Modal.module.css';\n\nclass Modal extends Component {\n  componentDidMount() {\n    window.addEventListener('keydown', this.handleEscape);\n  }\n  componentWillUnmount() {\n    window.removeEventListener('keydown', this.handleEscape);\n  }\n\n  handleEscape = e => {\n    if (e.code === 'Escape') {\n      this.props.toggleModall();\n    }\n  };\n\n  handleClose = e => {\n    if (e.currentTarget === e.target) {\n      this.props.toggleModall();\n    }\n  };\n  render() {\n    return createPortal(\n      <div className={s.Overlay} onClick={this.handleClose}>\n        <div className={s.Modal}>\n          <img src={this.props.largeImage} alt=\"\" />\n        </div>\n      </div>,\n      document.querySelector('#modalRoot'),\n    );\n  }\n}\n\nexport default Modal;\n","import Spinner from 'react-loader-spinner';\nimport styles from '../Loader/Loader.module.css';\n\nconst Loader = () => (\n  <div className={styles.loader}>\n    <Spinner\n      type=\"Circles\"\n      color=\"#00BFFF\"\n      height={80}\n      width={80}\n      timeout={3000}\n    />\n  </div>\n);\nexport default Loader;\n","import PropTypes from 'prop-types';\nimport s from './Button.module.css';\n\nconst Button = ({ handleCick }) => (\n  <div>\n    <button type=\"button\" className={s.Button} onClick={handleCick}>\n      Load more\n    </button>\n  </div>\n);\n\nButton.propTypes = {\n  handleCick: PropTypes.func.isRequired,\n};\n\nexport default Button;\n","import { Component } from 'react';\nimport './App.css';\nimport Searchbar from './components/Searchbar/Searchbar';\nimport ImageGallery from './components/ImageGallery/ImageGallery';\nimport ImageGalleryItem from './components/ImageGallery/ImageGalleryItem';\nimport fetchImg from './API';\nimport Modal from './components/Modal/Modal';\nimport Loader from './components/Loader/Loader';\nimport Button from './components/Button/Button';\nimport { ToastContainer } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\n\nclass App extends Component {\n  state = {\n    images: [],\n    value: '',\n    showModal: false,\n    largeImage: '',\n    isLoading: false,\n    page: 1,\n    showMessage: false,\n  };\n\n  componentDidMount() {\n    this.setState({ isLoading: true });\n    fetchImg()\n      .then(data => this.setState({ images: data.data.hits }))\n      .catch(err => this.setState({ showMessage: true }))\n      .finally(() => this.setState({ isLoading: false }));\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    if (prevState.value !== this.state.value) {\n      this.fetchData();\n    }\n  }\n\n  fetchData = () => {\n    this.setState({ isLoading: true, showMessage: false });\n\n    const { value, page } = this.state;\n    fetchImg(value, page)\n      .then(data => {\n        if (data.data.hits.length === 0) {\n          this.setState({ images: [], showMessage: true });\n        }\n        this.setState(prevState => ({\n          images: [...prevState.images, ...data.data.hits],\n          page: prevState.page + 1,\n        }));\n        if (page !== 1) {\n          this.scrollOnLoadButton();\n        }\n      })\n      .catch(err => this.setState({ showMessage: true }))\n      .finally(() => {\n        this.setState({ isLoading: false });\n      });\n  };\n\n  handleGalleryItem = fullImageUrl => {\n    this.setState({\n      largeImage: fullImageUrl,\n    });\n    this.toggleModal();\n  };\n\n  handleFormSubmit = valueInput => {\n    this.setState({ images: [], value: valueInput });\n  };\n\n  toggleModal = () => {\n    this.setState({ showModal: !this.state.showModal });\n  };\n\n  scrollOnLoadButton = () => {\n    window.scrollTo({\n      top: document.documentElement.scrollHeight,\n      behavior: 'smooth',\n    });\n  };\n\n  render() {\n    const { handleFormSubmit, toggleModal, handleGalleryItem, fetchData } =\n      this;\n    const { images, showModal, largeImage, isLoading, showMessage } =\n      this.state;\n    const showButton = images.length > 0 && images.length >= 12;\n    return (\n      <>\n        <Searchbar onSubmit={handleFormSubmit} />\n        {showMessage ? (\n          <h2 className=\"text\">\n            Nothing was found for your query. Try another query!\n          </h2>\n        ) : (\n          <ImageGallery>\n            <ImageGalleryItem\n              imagesArr={images}\n              onClickImg={handleGalleryItem}\n            />\n          </ImageGallery>\n        )}\n        <div className=\"containerBtn\">\n          {showButton && <Button handleCick={fetchData} />}\n        </div>\n        {showModal && (\n          <Modal toggleModall={toggleModal} largeImage={largeImage} />\n        )}\n        {isLoading && <Loader />}\n        <ToastContainer />\n      </>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__pDlPy\",\"SearchForm\":\"Searchbar_SearchForm__1qVxQ\",\"SearchForm__input\":\"Searchbar_SearchForm__input__2E_6a\",\"Button\":\"Searchbar_Button__35aAX\",\"Label\":\"Searchbar_Label__1S_RC\"};"],"sourceRoot":""}